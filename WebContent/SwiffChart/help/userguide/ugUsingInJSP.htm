<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR">
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">

<META Name="InChm" Content="True">

<SCRIPT LANGUAGE="JavaScript">
var page_title= "Using Swiff Chart Generator in JSP pages";
var page_title_ID= "ugUsingInJSP";
</SCRIPT>

<SCRIPT SRC="../scripts/dtuelink2.js"></SCRIPT>
<SCRIPT SRC="../scripts/main.js"></SCRIPT>

</HEAD>

<body topmargin=0 id="bodyID" class = "dtBODY">

<SCRIPT LANGUAGE="JavaScript">
write_header(page_title,page_title_ID,"JSP");
</SCRIPT>


<DIV id="scrtext" valign="bottom">

<br>
<H4 class="dtH4">Contents</H4>
<a href="#introduction">Introduction</a><br>
<a href="#howto1">How to insert a dynamic chart into a JSP page?</a><br>
<a href="#howto2">Sample Code</a><br>
<a href="#howto3">Where is the SwiffChart.jar located?</a><br>
<br><br>

<a name="#introduction"></a><H2 class="dtH2">Introduction</H2>
<p>Swiff Chart Generator offers you the ability to rapidly incorporate dynamic charts into your JSP pages.
To do so, you simply have to install Swiff Chart Generator on your Web Application Server machine and publish
along with your JSP pages the complementary Jar archive named <i>SwiffChart.jar</i> installed with the product.
</p>

<br>
<a name="#howto1"></a><H2 class="dtH2">How to insert a dynamic chart into a JSP page?</H2>
<p>To insert a dynamic chart into a JSP page, follow the steps below:
<ul>
<li>Publish the JAR archive named <b>SwiffChart.jar</b> in the appropriate location on your Web Application Server
to make it accessible by your JSP page. This location depends on the specifications of your Web Application Server. Refer
to the corresponding documentation for more information.<br>
<br>
To retrieve the SwiffChart.jar file, see <a href="#howto3">Where is the SwiffChart.jar located?</a>.
<br><br>
</li>

<li>Add the following <i>&lt;%@page import%@&gt;</i> JSP tag on top of your JSP page:
<pre class="code">&lt;%@ page import="com.globfx.swiffchart.SwiffChart" %&gt;</pre> 
<a href="#howto2">see code sample</a>
<br><br>
</li>

<li>Create a new <i>SwiffChart</i> object with the full pathname of the Swiff Chart Generator installation directory.
This will enable the <i>SwiffChart</i> object to run the Swiff Chart engine installed on the server.
<pre class="code">String installation_dir= "C:\\Program Files\\GlobFX\\Swiff Chart Generator 3";
SwiffChart chart= new SwiffChart(installation_dir);</pre>
<a href="#howto2">see code sample</a>
<br><br>
On <b>Windows</b> platform, Swiff Chart Generator installation directory is usually <i>C:\Program Files\GlobFX\Swiff Chart Generator 3</i>,
whereas on <b>Unix</b> platform it is ususally <i>/usr/local/SwiffChart</i>
<br><br>
</li>

<li>Initialize the so-created <i>SwiffChart</i> object by calling the 
<font STYLE="font-family: Monospace, Courier New, Courier;">SetServletInfo</font> and 
<font STYLE="font-family: Monospace, Courier New, Courier;">SetDocumentRoot</font> methods 
with the 3 following parameters as shown in the code below:
<ol>
<li>the <b>response</b> object (these are default global variables of the JSP page)
<li>the <b>request</b> object (these are default global variables of the JSP page)
<li>the Web Application Server <b>document root directory</b> (ie the full real pathname of the directory where 
the Web Application Server root is located).
</ol>

<pre class="code">String web_root= "C:\\tomcat\\webapps\\ROOT";
chart.SetServletInfo(request,response);
chart.SetDocumentRoot(web_root);</pre> 
<a href="#howto2">see code sample</a>
<br><br>
</li>

<li>The <i>SwiffChart</i> object is now initialized and can be manipulated by calling the methods offered by the Swiff Chart Generator API.
See the Reference manual for more information about the API. <a href="#howto2">The JSP code sample</a> below illustrates the common use of the Swiff Chart Generator API in a JSP page.
<br><br>
</li>

</ul>

<p class="pWarn"><b>Important Note:</b> Make sure that all the steps detailed above are fully completed before 
running your JSP page. If these parameters are not set with the correct values, the chart generation will fail.
Furthermore, the chart object should be released with the Release() method after use.
</p>

<br>
<a name="#howto2"></a><H2 class="dtH2">JSP Sample Code</H2>
<p>The following JSP sample code illustrates the use of Swiff Chart Generator in a JSP page. This code is 
cross-platform, only the various pathnames must be modified.</p>
<pre class="code"><font color=#007700>&lt;%@ page import="com.globfx.swiffchart.SwiffChart" %&gt;</font>
&lt;%
  // Prior to any chart object instanciation, you must specify the full pathname of Swiff Chart Generator
  // installation directory as well as the full pathname of the Web Application Server root directory.
  <font color=#007700>String installation_dir= "C:\\Program Files\\GlobFX\\Swiff Chart Generator 3";
  String web_root= "C:\\tomcat\\webapps\\ROOT";</font>

  // Create a new Swiff Chart object
  <font color=#007700>SwiffChart chart= new SwiffChart(installation_dir);</font>

  // JSP Init
  <font color=#007700>chart.SetServletInfo(request,response);
  chart.SetDocumentRoot(web_root);</font>

  String sep= ";";
  boolean ignoremultseparators= true;
  chart.SetSeparators(sep, ignoremultseparators);

  // Fill the categories
  String categories= "Q1" + sep + "Q2" + sep + "Q3" + sep + "Q4";
  chart.SetCategoriesFromString(categories);

  // Fill the first series named "Sales Y1"
  String series1= "12" + sep + "11" + sep + "6" + sep + "9";
  chart.SetSeriesValuesFromString(0, series1);
  chart.SetSeriesCaption(0, "Sales Y1");

  // Fill the second series named "Sales Y2"
  String series2= "23" + sep + "12" + sep +  "8" + sep + "11";
  chart.SetSeriesValuesFromString(1, series2);
  chart.SetSeriesCaption(1, "Sales Y2");

  // Set the chart title
  chart.SetTitle("Financial Results");
  chart.SetSubtitle("(Values in M$ - Year to year results)");

  // Apply a Column style
  // The chart type is stored in the style file (*.scs)
  // Here the selected style is the predefined column style "SanFrancisco"
  chart.LoadStyle( "column/SanFrancisco" );
      
  chart.SetLooping( false );

  String chart_res= chart.GetHTMLTag();

  // Release the chart object
  chart.Release();
%&gt;

&lt;H1&gt;Column Chart&lt;/H1&gt;
&lt;br&gt;&lt;% out.println(chart_res); %&gt;
</pre>

<a name=#result></a>
<br>
<p><font class="BodyStyle"><b>What you will obtain</b></font></p>
<img src="../images/result.jpg">

<br>
<a name="#howto3"></a><H2 class="dtH2">Where is the SwiffChart.jar located?</H2>
<p>The SwiffChart.jar archive is located in the Swiff Chart Generator installation directory:
<pre class=code>&lt;install dir&gt;/resources/java/SwiffChart.jar</pre>
where &lt;install dir&gt; is Swiff Chart Generator installation directory, usually C:/Program Files/GlobFX/Swiff Chart Generator 3/
on windows and /usr/local/SwiffChart for Unix.</p>

<SCRIPT LANGUAGE="JavaScript">
write_footer();
</SCRIPT>

</BODY>
</HTML>
